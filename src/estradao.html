<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="./style/mediaquery.css">
    <link rel="shortcut icon" href="images/logoEasy.png">
    <title>EasyTrail | Estrad√£o do Vento</title>
    <style>
        #more {
            display: none;
        }

        #more2 {
            display: none;
        }

        #more3 {
            display: none;
        }
    </style>
</head>

<body>

    <div class="containerbread">
        <ul class="breadcrumb m-0">
            <li class="breadcrumb-item"><a href="HomePage.html">Home</a></li>
            <li class="breadcrumb-item"><a href="DetalheTrilha.html">Estrad√£o do Vento</a></li>
        </ul>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-light" id="logado"></nav>

    <section>

        <div class="container-fluid d-flex bg-light">
            <div class="row col-sm-9 mt-3">
                <h2>Estrad√£o do Vento</h2>
                <img src="images/467.jpg" class="shadow-lg p-0 bg-body" alt="Imagem capa da trilha">
            </div>
            <div class="col-3 p-4 align-self-center">
                <h5>Previs√£o do Tempo</h5>
                <p>Temperatura e umidade</p>
                <div id="temperatura">
                    <h1 class="city"></h1>
                    <h2>üå°<span id="temp"></span>¬∞C üíß<span id='umidad'></span>%</h2>
                </div>
                <!-- <div class="col-3 p-4 align-self-center">
                    <h5>Previs√£o do Tempo</h5>
                    <p>Tempo e Temperatura</p>
                    <div class="city">Bahia, BR</div>
                    <div>Ter√ßa, 8 Novembro 2022</div>
                    <div class="weather py-2">Nublado</div>
                    <div class="container-temp">
                        <div>22<span>¬∞c</span></div>
                    </div>
                </div> -->
            </div>
        </div>

        <div class="container-fluid d-flex p-4 bg-white">
            <div class="row col-sm-7">
                <div class="descricaotrilha p-0 m-4 align-self-center">
                    <p style="width:90%">Al√©m de ser uma trilha muito bela, esse local √© considerado ainda um patrim√¥nio
                        cultural, pois segundo historiadores esse foi o lugar que os portugueses disseram ter avistado
                        terra e gritaram ‚ÄúTerra √† vista!‚Äù, sendo muito interessante tamb√©m para quem gosta de locais
                        hist√≥ricos.</p>
                </div>
            </div>

            <div class="col p-0">
                <img id="myImg" src="images/bahiaMaps.jpg" style="max-width:400px; cursor: pointer;" alt="Mapa Bahia">
                <div id="myModal" class="modal">
                    <span class="closeX">&times;</span>
                    <img class="modal-content" id="img01" alt="Imagem mapa" src="images/bahiaMaps.jpg">
                    <div id="caption"></div>
                </div>
            </div>
        </div>

        <div class="row text-center p-3" style="background-color: rgb(243, 242, 242);">

            <div class="col">
                <div><b>Indica√ß√£o</b> </div>
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="#EB5C0C"
                        class="bi bi-person-fill" viewBox="0 0 16 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
                    </svg> Individual ou <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="#EB5C0C"
                        class="bi bi-people-fill" viewBox="0 0 16 16">
                        <path
                            d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" />
                    </svg> Grupo
                </div>
            </div>


            <div class="col">
                <div><b>Eleva√ß√£o</b></div>
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="#EB5C0C" class="bi bi-activity"
                        viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z" />
                    </svg> 630 metros
                </div>
            </div>

            <div class="col">
                <div><b>Dificuldade</b></div>
                <div><svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="#EB5C0C"
                        class="bi bi-reception-4" viewBox="0 0 16 16">
                        <path
                            d="M0 11.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2zm4-3a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-5zm4-3a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-8zm4 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z" />
                    </svg> M√©dia
                </div>
            </div>

        </div>

        <div class="descricaotrilha p-3 m-1">
            <form action="" id="formComments">
                <h6>Fa√ßa seu coment√°rio</h6>
                <div>
                    <textarea class="form-control pl-3 shadow mb-0" placeholder="Escreva seu coment√°rio.."
                        id="comentariosTrilha" rows="3" required></textarea>
                    <button class="btn btn-danger" onclick="enviar()">Enviar</button>
                </div>
                <!-- <p style="font-size: 0.1rem; color: gray; width:70%;" class="p-3" id="usuariocoment"><b id="nomeusuario"></b></p> -->
            </form>
        </div>

        <div class="bg-light">
            <div class="p-4 w-70" id="commentPost">
                <hr>
                <div id="testeteste"></div>
                <h6 class="m-4" style="font-size: 0.1rem; width:70%;" class="p-4">Coment√°rios</h6>
            </div>
        </div>

    <footer>

        <div class="container text">
            <div class="row">
                <div class="col"></div>
                <div class="col" id="Copyright">Direitos reservados a PUC Minas. COPYRIGHT&copy; 2022</div>
                <div class="col" id="imgFAQ"><img onclick="location=href='FAQ.html'" src="images/FAQ.jpg" style="cursor: pointer; width: 30%;" alt="Imagem FAQ"></div>
            </div>
        </div>

    </footer>

    <script src="script/headerUserlogado.js"></script>
    <script src="script/main.js"></script>
    <script src="climatempo.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <script id="mapsFull">
        var modal = document.getElementById("myModal");
        var img = document.getElementById("myImg");
        var modalImg = document.getElementById("img01");
        img.onclick = function () {
            modal.style.display = "block";
            modalImg.src = this.src;
        }
        var span = document.getElementsByClassName("closeX")[0];
        span.onclick = function () {
            modal.style.display = "none";
        }
    </script>
    <script id="comments">
        const inputName = document.getElementById('inputName');
        const comentariosTrilhas = document.getElementById('comentariosTrilha');
        const form = document.getElementById('formComments');
        const commentPost = document.getElementById('commentPost');

        let userLogaduu = JSON.parse(localStorage.getItem('CLIENTE'));

        let trilhasCadastradass = JSON.parse(localStorage.getItem('trilhasCadastradas'));

        function enviar() {
            this.event.preventDefault();
            trilhasCadastradass[4].comments.push({nome: userLogaduu.nomeCompleto, comentario: comentariosTrilhas.value});
            localStorage.setItem('trilhasCadastradas', JSON.stringify(trilhasCadastradass))
            window.location.reload();
        }

        trilhasCadastradass[4].comments.forEach((element) => {
            document.getElementById('testeteste').innerHTML += `${element.nome}: ${element.comentario} <br>`;
        });
    </script>

    <script id="apiTempo">
        let lat = -12.895
        let long = -38.328

        url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&units=imperial&APPID=622296cd4fda08b69c46ccfa980f968d`
        fetchApi(url)
        console.log(url)

        function fetchApi(url) {
        let city = document.querySelector('.city')
        let temperature = document.querySelector('#temp')
        let humidity = document.querySelector('#umidad')

        fetch(url)
        .then((data) => {
            return data.json()
        })
        .then((data) => {
            let tempInCelsius = ((5/9) * (data.main.temp-32)).toFixed(1);
            
            city.textContent      = "Bahia"
            temperature.innerHTML = tempInCelsius
            humidity.innerHTML    = data.main.humidity
        })
        .catch((err) => {
            city.innerText = `Imposs√≠vel acessar o OpenWeather. Verifique a sua conex√£o.`;
            temperature.innerHTML = `-`;
        })
        }
    </script>
</body>

</html>